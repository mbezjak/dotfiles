#!/bin/bash
#
# For each mercurial project in workspace execute command given as argument $1.
#
# example:
#  $ hgforeach hgproject
#  # or
#  $ hgforeach hgsync

set -o errexit

for project in $(projects --hg)
do
    cd "$project"
    eval "$@" # potential security problem
done

exit 0
