#!/bin/bash
#

declare -a nouns=()
declare -a verbs=()
declare -a adjectives=()
declare -a rest=()


function browse {
    local -r query="$1"

    firefox "http://dict.tu-chemnitz.de/dings.cgi?lang=en&service=deen&opterrors=0&optpro=0&query=$query"
    firefox "http://www.eudict.com/?lang=gercro&word=$query"

    # no longer in use
    # firefox "http://deutsche-rechtschreibung.org/schreibweise/$query"

    # works when there are few cmd args
    firefox "http://images.google.com/search?tbm=isch&q=$query"

    return 0
}

function classify {
    local -r word="$1"

    # rules are correct most of the time
    if [[ "${word:0:1}" = [[:upper:]] ]]; then
        nouns+=("$word")
    elif [[ "$word" =~ .+(en|rn|ln)$ ]]; then
        verbs+=("$word")
    elif [[ "$word" =~ .+(ig|nd|t|ch|los)$ ]]; then
        adjectives+=("$word")
    else
        rest+=("$word")
    fi

    return 0
}

function classify-all-words {
    local word

    for word in "$@"; do
        classify "$word"
    done

    return 0
}



classify-all-words "$@"
for w in "${nouns[@]}";      do browse "$w"; done
for w in "${verbs[@]}";      do browse "$w"; done
for w in "${adjectives[@]}"; do browse "$w"; done
for w in "${rest[@]}";       do browse "$w"; done

exit 0
