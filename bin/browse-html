#!/bin/bash
#

set -o errexit

declare -r root="$1"

function success { exit 0; }
function browse  {
    firefox "$1" &> /dev/null &
    success
}

function complete-path {
    if [[ -n "$root" ]]; then
        echo "$root/$1"
    else
        echo "$1"
    fi

    return 0
}

function try-to-browse-file {
    local -r file=$(complete-path "$1")

    echo -n "Trying $file ... "
    if [[ -f "$file" ]]; then
        echo 'found'
        browse "$file"
    else
        echo 'missing'
    fi

    return 0
}


try-to-browse-file index.html
try-to-browse-file html/index.html
try-to-browse-file build/html/index.html
try-to-browse-file target/manual/html/index.html
try-to-browse-file target/jsdoc/index.html

exit 0
