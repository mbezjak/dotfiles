#!/bin/bash
#
# Test if grails project has plugin given as argument $1.
# Lists all installed plugins if $1 isn't set.
#
# example:
#  $ grailshasplugin foo

set -o errexit

project=$(grailsproject | awk '/^name/{ print $2 }')
grailsproject | awk -v project="$project" \
                 '/^plugin '"$1"'/{ printf "%15s %-15s %s\n", project, $3, $2 }'

# output: project_name plugin_version plugin_name

exit 0
